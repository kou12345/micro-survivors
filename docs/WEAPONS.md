# 武器・パッシブアイテム仕様

> このドキュメントは `public/js/weapons.js` の実装と対応しています。
> コードを変更した場合は、このドキュメントも更新してください。

## 武器一覧

### 抗体（Antibody）

| 項目 | 値 |
|------|-----|
| 絵文字 | 🔵 |
| 色 | #4ecdc4 |
| 基本ダメージ | 10 |
| クールダウン | 100ms |
| 軌道数 | 2 |
| 射程 | 60px |
| 回転速度 | 0.05 |

**動作**: プレイヤーの周囲を回転し、接触した敵にダメージを与える。

**レベルアップ効果**:
- 軌道数: 2レベルごとに+1
- 射程: レベルごとに+10px
- ダメージ: レベルごとに+20%
- 回転速度: レベルごとに+20%

---

### 酵素弾（Enzyme）

| 項目 | 値 |
|------|-----|
| 絵文字 | 💚 |
| 色 | #7bed9f |
| 基本ダメージ | 15 |
| クールダウン | 800ms |
| 弾速 | 8 |
| 射程 | 300px |

**動作**: 最も近い敵に向かって弾を発射。敵がいない場合は向いている方向に発射。

**レベルアップ効果**:
- 弾数: 3レベルごとに+1
- 射程: レベルごとに+30px
- ダメージ: レベルごとに+20%
- 弾サイズ: レベルごとに+1px

---

### ATP爆弾（ATP Bomb）

| 項目 | 値 |
|------|-----|
| 絵文字 | 💥 |
| 色 | #ffa502 |
| 基本ダメージ | 30 |
| クールダウン | 2000ms |
| 爆発半径 | 80px |
| 遅延時間 | 1500ms |

**動作**: プレイヤーの位置に爆弾を設置し、一定時間後に爆発。範囲内の敵にダメージ。

**レベルアップ効果**:
- 爆発半径: レベルごとに+15px
- ダメージ: レベルごとに+30%

---

### 繊毛ウィップ（Cilia Whip）

| 項目 | 値 |
|------|-----|
| 絵文字 | 🌊 |
| 色 | #a29bfe |
| 基本ダメージ | 20 |
| クールダウン | 1200ms |
| 射程 | 100px |
| 攻撃角度 | 144° (0.8π) |

**動作**: 最も近い敵の方向（または向いている方向）に扇形の攻撃を行う。

**レベルアップ効果**:
- 射程: レベルごとに+15px
- 攻撃角度: レベルごとに+0.1ラジアン
- ダメージ: レベルごとに+20%

---

### インターフェロン（Interferon）

| 項目 | 値 |
|------|-----|
| 絵文字 | 🛡️ |
| 色 | #00cec9 |
| 基本ダメージ | 5 |
| クールダウン | 100ms |
| 射程 | 80px |

**動作**: プレイヤーの周囲に継続ダメージを与えるオーラを展開。範囲内の敵に持続的にダメージ。

**レベルアップ効果**:
- 射程: レベルごとに+15px
- ダメージ: レベルごとに+30%

**科学解説**: インターフェロンはウイルス感染細胞が放出するシグナル分子。周囲の細胞を抗ウイルス状態にし、ウイルス増殖を阻害する。

---

### リゾチーム（Lysozyme）

| 項目 | 値 |
|------|-----|
| 絵文字 | ⚡ |
| 色 | #fdcb6e |
| 基本ダメージ | 12 |
| クールダウン | 1500ms |
| 射程 | 150px |
| チェーン数 | 3 |
| チェーン射程 | 100px |

**動作**: 最も近い敵を攻撃し、そこから近くの敵に連鎖するチェーンライトニング攻撃。

**レベルアップ効果**:
- 射程: レベルごとに+20px
- チェーン数: 2レベルごとに+1
- チェーン射程: レベルごとに+10px
- ダメージ: レベルごとに+25%
- チェーンダメージ減衰: 各チェーンで-15%

**科学解説**: リゾチームは涙・唾液・鼻汁に含まれる酵素。細菌の細胞壁ペプチドグリカンを分解し、浸透圧で細菌を破壊する。

---

### 貪食弾（Phagocyte）

| 項目 | 値 |
|------|-----|
| 絵文字 | 🔴 |
| 色 | #e17055 |
| 基本ダメージ | 18 |
| クールダウン | 1800ms |
| 弾速 | 4 |
| 射程 | 400px |
| 旋回速度 | 0.08 |

**動作**: 敵を自動追尾するホーミング弾を発射。弾は最も近い敵に向かって旋回しながら飛んでいく。

**レベルアップ効果**:
- 弾数: 4レベルごとに+1
- 弾速: レベルごとに+0.3
- 射程: レベルごとに+50px
- 旋回速度: レベルごとに+0.01
- ダメージ: レベルごとに+20%
- 弾サイズ: レベルごとに+1px

**科学解説**: 貪食作用は白血球が病原体を取り込み消化する機構。マクロファージや好中球がこの能力を持ち、体内の掃除屋として働く。

---

## パッシブアイテム一覧

すべてのパッシブは最大5回まで取得可能。

### ミトコンドリア（Mitochondria）

| 項目 | 値 |
|------|-----|
| 絵文字 | 🔋 |
| 効果 | 攻撃力+15% |

プレイヤーの `damageMultiplier` に+0.15

---

### リボソーム（Ribosome）

| 項目 | 値 |
|------|-----|
| 絵文字 | 🧬 |
| 効果 | 経験値+20% |

プレイヤーの `xpMultiplier` に+0.2

---

### 細胞膜強化（Membrane）

| 項目 | 値 |
|------|-----|
| 絵文字 | 🛡️ |
| 効果 | 被ダメージ-15% |

プレイヤーの `defenseMultiplier` に+0.15

---

### 鞭毛（Flagellum）

| 項目 | 値 |
|------|-----|
| 絵文字 | 🏃 |
| 効果 | 移動速度+15% |

プレイヤーの `speedMultiplier` に+0.15

---

### 核膜（Nucleus）

| 項目 | 値 |
|------|-----|
| 絵文字 | ⚡ |
| 効果 | クールダウン-10% |

プレイヤーの `cooldownMultiplier` に-0.1

---

## シナジー（Synergy）システム

武器とパッシブアイテムの特定の組み合わせで発動する特殊効果。
すべてのシナジーは実際の生物学・免疫学に基づいた効果を持つ。

### オプソニン化（Opsonization）

| 項目 | 値 |
|------|-----|
| 絵文字 | 🎯 |
| 必要武器 | 抗体 |
| 必要パッシブ | リボソーム |
| 効果 | 抗体で倒した敵からのXP+50% |

**科学的根拠**: オプソニン化は抗体が病原体に結合し、マクロファージなどの食細胞に「食べて」という目印をつけるプロセス。リボソームで合成された抗体がこの機能を担う。

---

### 酵素活性化（Enzyme Activation）

| 項目 | 値 |
|------|-----|
| 絵文字 | ⚡ |
| 必要武器 | 酵素弾 |
| 必要パッシブ | ミトコンドリア |
| 効果 | 酵素弾が敵を貫通 |

**科学的根拠**: 酵素反応には活性化エネルギーが必要。ミトコンドリアが生産するATPがこのエネルギーを供給し、酵素の触媒活性を維持する。

---

### エネルギー過負荷（Energy Overload）

| 項目 | 値 |
|------|-----|
| 絵文字 | 💥 |
| 必要武器 | ATP爆弾 |
| 必要パッシブ | ミトコンドリア |
| 効果 | ATP爆弾が連鎖爆発 |

**科学的根拠**: ミトコンドリアはATPの主要な生産工場。電子伝達系とATP合成酵素により、1つのグルコースから最大38個のATPを生成する。

---

### 協調運動（Coordinated Movement）

| 項目 | 値 |
|------|-----|
| 絵文字 | 🌀 |
| 必要武器 | 繊毛ウィップ |
| 必要パッシブ | 鞭毛 |
| 効果 | 繊毛攻撃時に前方へダッシュ |

**科学的根拠**: 繊毛と鞭毛は共に9+2構造の微小管で構成される。ダイニンモータータンパク質がATPを消費して協調的な波動運動を生み出す。

---

### 免疫シナプス（Immune Synapse）

| 項目 | 値 |
|------|-----|
| 絵文字 | 🔗 |
| 必要武器 | 抗体 |
| 必要パッシブ | 細胞膜強化 |
| 効果 | 抗体で攻撃した敵の移動速度低下 |

**科学的根拠**: 免疫シナプスはT細胞と抗原提示細胞の間に形成される特殊な接触面。細胞膜上の受容体が抗体-抗原複合体を認識し、免疫応答を調節する。

---

### ADCC（抗体依存性細胞傷害）

| 項目 | 値 |
|------|-----|
| 絵文字 | 💀 |
| 必要武器 | 酵素弾, 抗体 |
| 効果 | 抗体が当たった敵に酵素がクリティカル（2倍ダメージ） |

**科学的根拠**: ADCC（抗体依存性細胞傷害）は抗体でマークされた細胞をNK細胞が認識し、パーフォリンやグランザイムなどの酵素で破壊するメカニズム。

---

### 遺伝子発現促進（Gene Expression）

| 項目 | 値 |
|------|-----|
| 絵文字 | 🧬 |
| 必要パッシブ | 核膜, リボソーム |
| 効果 | 全武器クールダウン追加-15% |

**科学的根拠**: 核膜の核膜孔からmRNAが細胞質へ輸送され、リボソームでタンパク質に翻訳される。この遺伝子発現の中心教義がタンパク質合成を制御する。

---

### 運動エネルギー変換（Motor Energy）

| 項目 | 値 |
|------|-----|
| 絵文字 | 🚀 |
| 必要武器 | ATP爆弾 |
| 必要パッシブ | 鞭毛 |
| 効果 | ATP爆発後、3秒間移動速度+50% |

**科学的根拠**: 鞭毛モーターは細菌の回転推進器官で、ATP加水分解またはプロトン勾配によりトルクを生成。毎秒数百回転で細胞を推進させる。

---

## 実装ファイル

- 武器定義: `public/js/weapons.js` - `WEAPONS` オブジェクト
- パッシブ定義: `public/js/weapons.js` - `PASSIVES` オブジェクト
- シナジー定義: `public/js/weapons.js` - `SYNERGIES` オブジェクト
- 武器ロジック: `public/js/entities.js` - `Player.updateWeapons()`
- シナジーチェック: `public/js/entities.js` - `Player.checkSynergies()`
- 描画処理: `public/js/game.js` - `draw()` 関数
